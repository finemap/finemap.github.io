前几天更新了下MATLAB到2023b，今天码字的时候，偶然看见编辑器有`linewidth=..`的补全提示，猛然一惊，这是穿越到`Python`，试了下，居然合法的语法，好奇搜索了一下，果然看到了官网的一篇旧闻[^1]。。。

# MATLAB R2021a新特性：Name=Value 语法

在 MATLAB R2021a中，引入了一种可选的新语法，以等号将属性名与其值配对，而不需要将属性名放在引号中。例如：

旧语法：`plot(x, y, "b-", "LineWidth", 2)`

新语法：`plot(x, y, "b-", LineWidth=2)`

虽然这种新语法在使用上带来了便利，但也有一些限制：

1. 在一个函数调用中，建议只使用一种语法，但如果你想混合使用这两种语法，所有的`name=value`参数必须在逗号分隔的`name,value`参数之后。
2. 与逗号分隔的`name,value`参数一样，`name=value`参数必须在位置参数之后。
3. `Name=value`对必须直接用在函数调用中，不能被封装在单元数组或额外的括号中。

此外，此次更新还引入了一些额外的特性：

1. 属性名不区分大小写，因此`color='r'`和`Color='r'`都是被支持的。
2. 也支持部分名称匹配。例如 `plot(1:5, LineW=4)`

新语法有助于在同一行中的长列表名值参数中区分属性名和属性值。

然而，这个新特性在使用过程中也存在一些问题，例如代码建议和完成在使用这种语法时的缺失。针对这个问题，目前MATLAB还没有明确的解决方案或计划。

----
以上是官网原文的大致内容，评论区提到了代码补全的问题，刚发布时还说没有明确计划，结果人家代码补全都实现了，我这才知道有这语法。。。

[^1](https://ww2.mathworks.cn/matlabcentral/discussions/highlights/134409-new-in-r2021a-name-value-syntax）